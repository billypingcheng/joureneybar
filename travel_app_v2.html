<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JourneyBar - æ‚¨çš„å°ˆå±¬æ—…ç¨‹è¦åŠƒå¸«</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- è¨­å®š JourneyBar å“ç‰Œè‰² -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        jbar: {
                            dark: '#0F2838',  // Logo ä¸Šçš„æ·±è—è‰²
                            yellow: '#F3B635', // Logo ä¸Šçš„è¡Œæç®±é»ƒ
                            light: '#F7F9FB', // èƒŒæ™¯æ·¡è‰²
                            gray: '#5A6B75'   // æ–‡å­—è¼”åŠ©è‰²
                        }
                    },
                    fontFamily: {
                        sans: ['Helvetica', 'Arial', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes bounce-short { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        .animate-bounce-short { animation: bounce-short 0.5s; }
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { bg-transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
        
        /* æ¨¡æ“¬ Logo å­—é«” */
        .logo-font {
            font-weight: 800;
            letter-spacing: -0.02em;
        }
    </style>
</head>
<body class="bg-jbar-light">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- è³‡æ–™è¨­å®š (ä¿æŒä¸è®Š) ---
        const LOCATION_DATA = {
            japan: {
                'åŒ—æµ·é“/æ±åŒ—': ['åŒ—æµ·é“(å…¨åŸŸ)', 'æœ­å¹Œ', 'å‡½é¤¨', 'ä»™å°', 'é’æ£®', 'è—ç‹'],
                'é—œæ± (æ±äº¬å‘¨é‚Š)': ['æ±äº¬', 'æ©«æ¿±', 'ç®±æ ¹/æ²³å£æ¹–', 'è¼•äº•æ¾¤', 'éŒå€‰', 'æ—¥å…‰'],
                'ä¸­éƒ¨/åŒ—é™¸': ['åå¤å±‹', 'åˆæŒæ‘', 'é‡‘æ¾¤', 'ç«‹å±±é»‘éƒ¨', 'ä¼Šè±†'],
                'é—œè¥¿ (äº¬é˜ªç¥)': ['å¤§é˜ª', 'äº¬éƒ½', 'å¥ˆè‰¯', 'ç¥æˆ¶', 'ç’°çƒå½±åŸ'],
                'ä¸­åœ‹/å››åœ‹': ['å»£å³¶', 'å²¡å±±', 'é³¥å–', 'ç€¨æˆ¶å…§æµ·'],
                'ä¹å·/æ²–ç¹©': ['ç¦å²¡', 'ç†Šæœ¬', 'åˆ¥åºœ', 'é¹¿å…’å³¶', 'æ²–ç¹©']
            },
            taiwan: {
                'åŒ—éƒ¨': ['å°åŒ—', 'ä¹ä»½/åŸºéš†', 'å®œè˜­', 'æ¡ƒåœ’', 'æ–°ç«¹'],
                'ä¸­éƒ¨': ['å°ä¸­', 'æ—¥æœˆæ½­', 'æ¸…å¢ƒ/åˆæ­¡å±±', 'è‹—æ —', 'é¹¿æ¸¯'],
                'å—éƒ¨': ['å°å—', 'é«˜é›„', 'å¢¾ä¸', 'å˜‰ç¾©/é˜¿é‡Œå±±'],
                'æ±éƒ¨': ['èŠ±è“®', 'å¤ªé­¯é–£', 'å°æ±', 'çŸ¥æœ¬'],
                'é›¢å³¶': ['æ¾æ¹–', 'é‡‘é–€', 'é¦¬ç¥–', 'å°ç‰çƒ', 'è˜­å¶¼/ç¶ å³¶']
            }
        };

        const PRESETS = {
            japan: {
                classic: ['æ±äº¬', 'å¤§é˜ª', 'äº¬éƒ½'],
                hidden: ['é³¥å–', 'åˆ¥åºœ', 'è—ç‹', 'ç€¨æˆ¶å…§æµ·']
            },
            taiwan: {
                classic: ['å°åŒ—', 'å°ä¸­', 'å°å—', 'é«˜é›„'],
                hidden: ['é¦¬ç¥–', 'è˜­å¶¼/ç¶ å³¶', 'å¸é¦¬åº«æ–¯', 'å°æ±']
            }
        };

        const PREFERENCE_OPTIONS = ['ç¾é£Ÿå·¡ç¦®', 'è³¼ç‰©è¡€æ‹¼', 'è‡ªç„¶ç¾æ™¯', 'æ­·å²æ–‡åŒ–', 'ä¸»é¡Œæ¨‚åœ’', 'æº«æ³‰æ”¾é¬†', 'å‹•æ¼«æœè–', 'æ¥µé™é‹å‹•', 'æ”å½±æ‰“å¡'];

        // --- ä¸»ç¨‹å¼ ---
        function TravelPlannerApp() {
            const [step, setStep] = useState('input');
            const [msg, setMsg] = useState('');
            const [logoSrc, setLogoSrc] = useState('./logo.png'); // é è¨­è®€å–åŒç›®éŒ„ä¸‹çš„ logo.png
            
            const [formData, setFormData] = useState({
                travelers: 1,
                relation: 'solo',
                destCountry: 'japan',
                selectedDestinations: [],
                preferences: {}, 
                transport: 'public',
                budget: '',
                duration: 5,
                contact: ''
            });

            const [aiResult, setAiResult] = useState('');

            const handleChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({ ...prev, [name]: value }));
            };

            const handleCountrySwitch = (country) => {
                setFormData(prev => ({ ...prev, destCountry: country, selectedDestinations: [] }));
                setMsg('');
            };

            const toggleDestination = (place) => {
                setFormData(prev => {
                    const current = prev.selectedDestinations;
                    const isSelected = current.includes(place);
                    if (isSelected) {
                        return { ...prev, selectedDestinations: current.filter(p => p !== place) };
                    } else {
                        return { ...prev, selectedDestinations: [...current, place] };
                    }
                });
            };

            const applyPreset = (type) => {
                const country = formData.destCountry;
                let picks = [];
                let message = "";

                if (type === 'random') {
                    const allCities = Object.values(LOCATION_DATA[country]).flat();
                    const randomCity = allCities[Math.floor(Math.random() * allCities.length)];
                    picks = [randomCity];
                    message = `ğŸ² å‘½é‹å¹«æ‚¨é¸ä¸­äº†ï¼š${randomCity}ï¼`;
                } else if (type === 'classic') {
                    picks = PRESETS[country].classic.slice(0, 2);
                    message = `ğŸ”¥ å·²ç‚ºæ‚¨é¸æ“‡ç†±é–€ç¶“å…¸è¡Œç¨‹ï¼`;
                } else if (type === 'hidden') {
                    const hiddenList = PRESETS[country].hidden;
                    const randomHidden = hiddenList[Math.floor(Math.random() * hiddenList.length)];
                    picks = [randomHidden];
                    message = `âœ¨ å¸¶æ‚¨æ¢ç´¢ç§˜å¢ƒï¼š${randomHidden}`;
                }

                setFormData(prev => ({ ...prev, selectedDestinations: picks }));
                setMsg(message);
                setTimeout(() => setMsg(''), 3000);
            };

            const togglePreference = (pref) => {
                setFormData(prev => {
                    const currentLevel = prev.preferences[pref] || 0;
                    let nextLevel = (currentLevel + 1) % 3;
                    const newPrefs = { ...prev.preferences };
                    if (nextLevel === 0) delete newPrefs[pref];
                    else newPrefs[pref] = nextLevel;
                    return { ...prev, preferences: newPrefs };
                });
            };

            // è‡¨æ™‚ä¸Šå‚³ Logo åŠŸèƒ½ (æ–¹ä¾¿ Demo)
            const handleLogoUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => setLogoSrc(e.target.result);
                    reader.readAsDataURL(file);
                }
            };

            const handleSubmit = (mode) => {
                if (formData.selectedDestinations.length === 0) {
                    alert("è«‹è‡³å°‘é¸æ“‡ä¸€å€‹æƒ³å»çš„åœ°é»ï¼Œæˆ–æ˜¯è©¦è©¦ã€ŒğŸ² å¹«æˆ‘é¸ã€ï¼");
                    return;
                }
                if (mode === 'human' && !formData.contact) {
                    alert("è«‹å¡«å¯«è¯çµ¡æ–¹å¼ï¼Œä»¥ä¾¿æˆ‘å€‘ç‚ºæ‚¨æœå‹™ï¼");
                    return;
                }

                setStep('loading');

                setTimeout(() => {
                    if (mode === 'ai') {
                        const high = Object.keys(formData.preferences).filter(k => formData.preferences[k] === 2);
                        const normal = Object.keys(formData.preferences).filter(k => formData.preferences[k] === 1);
                        
                        const result = `
### âœˆï¸ JourneyBar å°ˆå±¬è¦åŠƒï¼š${formData.duration} å¤©æ¢ç´¢ä¹‹æ—…

**ğŸ“ ç›®çš„åœ°ï¼š${formData.selectedDestinations.join(' + ')}**
**ğŸ‘¥ è¨­å®šï¼š${formData.travelers} äºº | ${formData.budget ? 'é ç®— ' + formData.budget : 'é ç®—å½ˆæ€§'}**
**â¤ï¸ é‡é»é¢¨æ ¼ï¼š${high.length > 0 ? high.join('(â˜…æ ¸å¿ƒ)') : 'è‡ªç”±æ¢ç´¢'}**

---
**Day 1: å•Ÿç¨‹ JourneyBar Start**
è¡Œç¨‹ï¼šæŠµé”å¾Œï¼Œå°ˆè»Šæ¥é€è‡³ã€Œ${formData.selectedDestinations[0]}ã€å¸‚ä¸­å¿ƒé£¯åº—ã€‚
æ™šé¤ï¼š${formData.preferences['ç¾é£Ÿå·¡ç¦®'] ? 'å·²ç‚ºæ‚¨ç¯©é¸ 3 é–“ç•¶åœ°å¿…åƒååº— (é™„è¨‚ä½é€£çµ)' : 'æ¨è–¦ç•¶åœ°äººå–œæ„›çš„ç‰¹è‰²å±…é…’å±‹'}ã€‚

**Day 2: æ·±åº¦é«”é©—**
ä¸Šåˆï¼š${formData.selectedDestinations[0].includes('åŒ—æµ·é“') ? 'ç§äººåš®å°å¸¶é ˜å‰å¾€ç§æˆ¿æ™¯é»' : 'æ¼«æ­¥æ–¼æ­·å²æ‚ ä¹…çš„è¡—é“ï¼Œæ„Ÿå—æ–‡åŒ–æ°£æ¯'}ã€‚
ä¸‹åˆï¼š${formData.preferences['è³¼ç‰©è¡€æ‹¼'] ? 'å®‰æ’å‰å¾€ Outlets æˆ–ç™¾è²¨å•†åœˆ' : 'åœ¨æ™¯è§€å’–å•¡å»³äº«å—æ‚ é–’åˆå¾Œ'}ã€‚

**Day 3: ${formData.selectedDestinations.length > 1 ? 'åŸå¸‚ç§»å‹•' : 'è¿‘éƒŠç§˜å¢ƒ'}**
${formData.selectedDestinations.length > 1 ? `ç§»å‹•å‰å¾€ ${formData.selectedDestinations[1]}ï¼Œæ²¿é€”åœé çµ•ç¾ä¼‘æ¯ç«™ã€‚` : 'å‰å¾€ç•¶åœ°äººæ‰çŸ¥é“çš„ç§˜å¢ƒæ™¯é»ï¼Œé¿é–‹è§€å…‰äººæ½®ã€‚'}

*(æ­¤ç‚º JourneyBar AI åˆæ­¥å»ºè­°ï¼Œå°ˆæ¥­é¡§å•å°‡ç‚ºæ‚¨èª¿æ•´ç´°ç¯€)*
                        `;
                        setAiResult(result);
                        setStep('result_ai');
                    } else {
                        setStep('result_human');
                    }
                }, 2000);
            };

            return (
                <div className="min-h-screen py-6 px-4 font-sans text-jbar-dark flex justify-center">
                    <div className="w-full max-w-4xl bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-100">
                        
                        {/* --- JourneyBar å“ç‰Œ Header --- */}
                        <div className="bg-jbar-dark text-white p-6 relative overflow-hidden">
                            
                            <div className="relative z-10 flex flex-col md:flex-row items-center justify-between">
                                {/* Logo å€åŸŸ */}
                                <div className="flex items-center gap-4 mb-4 md:mb-0">
                                    <div className="bg-white p-2 rounded-xl shadow-lg w-20 h-20 flex items-center justify-center overflow-hidden relative group">
                                        <img src={logoSrc} alt="JourneyBar" className="object-contain max-w-full max-h-full" 
                                             onError={(e) => e.target.style.display = 'none'} />
                                        {/* éš±è—çš„ä¸Šå‚³æŒ‰éˆ• (è®“ä½ å¯ä»¥é»æ“Šæ› Logo) */}
                                        <label className="absolute inset-0 flex items-center justify-center bg-black/50 text-white text-xs opacity-0 group-hover:opacity-100 cursor-pointer text-center">
                                            é»æ­¤ä¸Šå‚³<br/>Logo
                                            <input type="file" className="hidden" accept="image/*" onChange={handleLogoUpload}/>
                                        </label>
                                    </div>
                                    <div className="text-center md:text-left">
                                        <h1 className="text-3xl md:text-4xl logo-font tracking-tight text-white">JourneyBar</h1>
                                        <p className="text-jbar-yellow text-sm font-medium tracking-wider mt-1">YOUR PERSONAL TRAVEL EXPERT</p>
                                    </div>
                                </div>

                                {/* Slogan */}
                                <div className="text-center md:text-right hidden md:block">
                                    <p className="text-gray-400 text-sm">å®¢è£½åŒ–è¡Œç¨‹ âœ– AI æ™ºèƒ½è¦åŠƒ</p>
                                    <div className="mt-2 flex gap-1 justify-end">
                                        <span className="w-2 h-2 rounded-full bg-jbar-yellow"></span>
                                        <span className="w-2 h-2 rounded-full bg-gray-600"></span>
                                        <span className="w-2 h-2 rounded-full bg-gray-600"></span>
                                    </div>
                                </div>
                            </div>
                            
                            {/* è£é£¾ç·šæ¢ */}
                            <div className="absolute -bottom-10 -right-10 w-64 h-64 bg-jbar-yellow opacity-10 rounded-full blur-3xl"></div>
                        </div>

                        {/* Body */}
                        <div className="p-5 md:p-10 bg-white">
                            
                            {step === 'input' && (
                                <div className="space-y-10 animate-fade-in">
                                    
                                    {/* 1. äººæ•¸èˆ‡å¤©æ•¸ */}
                                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                                        <div className="space-y-2">
                                            <label className="text-xs font-bold text-jbar-gray uppercase tracking-wide">æ—…éŠäººæ•¸</label>
                                            <div className="flex items-center bg-jbar-light border border-gray-200 rounded-xl px-4 py-3 focus-within:ring-2 ring-jbar-yellow transition">
                                                <span className="text-lg mr-3 text-jbar-dark">ğŸ‘¥</span>
                                                <input type="number" name="travelers" value={formData.travelers} onChange={handleChange} className="w-full bg-transparent outline-none font-bold text-jbar-dark" min="1"/>
                                            </div>
                                        </div>
                                        <div className="space-y-2">
                                            <label className="text-xs font-bold text-jbar-gray uppercase tracking-wide">é è¨ˆå¤©æ•¸</label>
                                            <div className="flex items-center bg-jbar-light border border-gray-200 rounded-xl px-4 py-3 focus-within:ring-2 ring-jbar-yellow transition">
                                                <span className="text-lg mr-3 text-jbar-dark">ğŸ“…</span>
                                                <input type="number" name="duration" value={formData.duration} onChange={handleChange} className="w-full bg-transparent outline-none font-bold text-jbar-dark" min="1"/>
                                            </div>
                                        </div>
                                        <div className="space-y-2">
                                            <label className="text-xs font-bold text-jbar-gray uppercase tracking-wide">åŒè¡Œé—œä¿‚</label>
                                            <div className="flex items-center bg-jbar-light border border-gray-200 rounded-xl px-4 py-3">
                                                <span className="text-lg mr-3 text-jbar-dark">â¤ï¸</span>
                                                <select name="relation" value={formData.relation} onChange={handleChange} className="w-full bg-transparent outline-none font-bold text-jbar-dark">
                                                    <option value="solo">ğŸ‘¤ ç¨æ—… Solo</option>
                                                    <option value="couple">ğŸ’‘ å¤«å¦»/æƒ…ä¾¶</option>
                                                    <option value="family_kids">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ è¦ªå­ (æœ‰å°å­©)</option>
                                                    <option value="family_elders">ğŸ‘µ å®¶æ— (å¸¶é•·è¼©)</option>
                                                    <option value="friends">ğŸ‘¯ æœ‹å‹/åŒå­¸</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    {/* 2. åœ°é»é¸æ“‡ */}
                                    <div>
                                        <div className="flex items-center justify-between mb-4">
                                            <h3 className="text-xl font-bold text-jbar-dark">æƒ³å»å“ªè£¡ç©ï¼Ÿ</h3>
                                            <div className="bg-jbar-light p-1 rounded-lg flex text-sm font-bold border border-gray-200">
                                                <button onClick={() => handleCountrySwitch('japan')} className={`px-5 py-2 rounded-md transition ${formData.destCountry === 'japan' ? 'bg-jbar-dark text-white shadow-md' : 'text-gray-400 hover:text-gray-600'}`}>æ—¥æœ¬</button>
                                                <button onClick={() => handleCountrySwitch('taiwan')} className={`px-5 py-2 rounded-md transition ${formData.destCountry === 'taiwan' ? 'bg-jbar-dark text-white shadow-md' : 'text-gray-400 hover:text-gray-600'}`}>å°ç£</button>
                                            </div>
                                        </div>

                                        <div className="border border-gray-200 rounded-2xl p-5 shadow-sm bg-white">
                                            {/* éˆæ„ŸæŒ‰éˆ• (é…è‰²èª¿æ•´) */}
                                            <div className="flex flex-wrap gap-3 mb-6 pb-6 border-b border-gray-100">
                                                <button onClick={() => applyPreset('random')} className="flex items-center bg-indigo-50 hover:bg-indigo-100 text-indigo-700 px-4 py-2 rounded-full text-sm font-bold transition">
                                                    ğŸ² å¹«æˆ‘é¸
                                                </button>
                                                <button onClick={() => applyPreset('classic')} className="flex items-center bg-amber-50 hover:bg-amber-100 text-amber-700 px-4 py-2 rounded-full text-sm font-bold transition">
                                                    ğŸ”¥ ç¶“å…¸è¡Œç¨‹
                                                </button>
                                                <button onClick={() => applyPreset('hidden')} className="flex items-center bg-emerald-50 hover:bg-emerald-100 text-emerald-700 px-4 py-2 rounded-full text-sm font-bold transition">
                                                    âœ¨ ç§˜å¢ƒæ¢ç´¢
                                                </button>
                                                {msg && <span className="ml-2 text-sm text-jbar-yellow font-bold animate-bounce-short flex items-center">{msg}</span>}
                                            </div>

                                            <div className="space-y-6 max-h-[400px] overflow-y-auto custom-scrollbar pr-2">
                                                {Object.entries(LOCATION_DATA[formData.destCountry]).map(([region, cities]) => (
                                                    <div key={region}>
                                                        <h4 className="text-xs font-bold text-gray-400 mb-3 flex items-center">
                                                            <span className="w-1.5 h-1.5 bg-jbar-yellow rounded-full mr-2"></span>
                                                            {region}
                                                        </h4>
                                                        <div className="flex flex-wrap gap-2">
                                                            {cities.map(city => (
                                                                <button 
                                                                    key={city} 
                                                                    onClick={() => toggleDestination(city)}
                                                                    className={`text-sm py-2 px-4 rounded-lg transition border font-medium ${
                                                                        formData.selectedDestinations.includes(city)
                                                                        ? 'bg-jbar-dark text-white border-jbar-dark shadow-md transform scale-105'
                                                                        : 'bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100'
                                                                    }`}
                                                                >
                                                                    {city} {formData.selectedDestinations.includes(city) && 'âœ“'}
                                                                </button>
                                                            ))}
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    </div>

                                    {/* 3. é¢¨æ ¼èˆ‡é ç®— */}
                                    <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                        <div>
                                            <h3 className="text-xl font-bold text-jbar-dark mb-4">æ—…éŠé¢¨æ ¼ <span className="text-sm font-normal text-gray-400 ml-2">(é»å…©ä¸‹è¨­ç‚ºå¿…å»â˜…)</span></h3>
                                            <div className="flex flex-wrap gap-2">
                                                {PREFERENCE_OPTIONS.map(pref => {
                                                    const level = formData.preferences[pref] || 0;
                                                    return (
                                                        <button 
                                                            key={pref}
                                                            onClick={() => togglePreference(pref)}
                                                            className={`px-4 py-2.5 rounded-lg text-sm font-bold transition-all border ${
                                                                level === 2 ? 'bg-jbar-yellow text-jbar-dark border-jbar-yellow shadow-md' :
                                                                level === 1 ? 'bg-jbar-light text-jbar-dark border-gray-300' :
                                                                'bg-white text-gray-400 border-gray-200 hover:border-gray-300'
                                                            }`}
                                                        >
                                                            {level === 2 ? 'â˜… ' : ''}{pref}
                                                        </button>
                                                    );
                                                })}
                                            </div>
                                        </div>

                                        <div className="space-y-4">
                                            <div>
                                                <label className="text-xs font-bold text-jbar-gray uppercase block mb-1">é ç®— (æ¯äºº/å°å¹£)</label>
                                                <input type="text" name="budget" value={formData.budget} onChange={handleChange} placeholder="ä¾‹ï¼š35000" className="w-full p-3 border border-gray-200 rounded-xl bg-jbar-light outline-none focus:bg-white focus:ring-2 ring-jbar-yellow transition" />
                                            </div>
                                            <div>
                                                <label className="text-xs font-bold text-jbar-gray uppercase block mb-1">äº¤é€šåå¥½</label>
                                                <select name="transport" value={formData.transport} onChange={handleChange} className="w-full p-3 border border-gray-200 rounded-xl bg-jbar-light outline-none focus:bg-white transition">
                                                    <option value="public">ğŸš† å¤§çœ¾é‹è¼¸</option>
                                                    <option value="car">ğŸš— è‡ªé§•ç§Ÿè»Š</option>
                                                    <option value="charter">ğŸš• JourneyBar å°ˆå±¬åŒ…è»Š</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    {/* 4. è¯çµ¡è³‡è¨Š (å“ç‰Œè‰²) */}
                                    <div className="bg-jbar-light border border-gray-200 p-6 rounded-2xl">
                                        <h3 className="text-lg font-bold text-jbar-dark mb-2">ğŸ“® ç²å– JourneyBar å°ˆå±¬è¡Œç¨‹æ›¸</h3>
                                        <p className="text-sm text-jbar-gray mb-3">è«‹ç•™ä¸‹è¯ç¹«æ–¹å¼ï¼Œé¡§å•å°‡ç‚ºæ‚¨è£½ä½œå®Œæ•´çš„æ—…éŠææ¡ˆã€‚</p>
                                        <input type="text" name="contact" value={formData.contact} onChange={handleChange} placeholder="æ‚¨çš„ Line ID æˆ– Email" className="w-full p-3 border border-gray-300 rounded-xl bg-white outline-none focus:ring-2 ring-jbar-yellow transition" />
                                    </div>

                                    {/* Action Buttons */}
                                    <div className="flex flex-col md:flex-row gap-4 pt-4">
                                        <button onClick={() => handleSubmit('ai')} className="flex-1 bg-white border-2 border-jbar-dark text-jbar-dark py-4 rounded-xl font-bold hover:bg-gray-50 transition shadow-lg flex justify-center items-center">
                                            <span className="mr-2">ğŸ¤–</span> AI å¿«é€Ÿé è¦½
                                        </button>
                                        <button onClick={() => handleSubmit('human')} className="flex-1 bg-jbar-dark text-white py-4 rounded-xl font-bold hover:bg-[#1a3f55] transition shadow-lg flex justify-center items-center border-2 border-jbar-dark">
                                            <span className="mr-2 text-jbar-yellow">âœˆï¸</span> æäº¤çµ¦ JourneyBar åœ˜éšŠ
                                        </button>
                                    </div>

                                </div>
                            )}

                            {/* ç‹€æ…‹ï¼šè¼‰å…¥ä¸­ */}
                            {step === 'loading' && (
                                <div className="text-center py-24 animate-fade-in">
                                    <div className="w-20 h-20 border-4 border-gray-100 border-t-jbar-yellow rounded-full animate-spin mx-auto mb-8"></div>
                                    <h3 className="text-2xl font-bold text-jbar-dark">JourneyBar æ­£åœ¨è¦åŠƒæ‚¨çš„æ—…ç¨‹...</h3>
                                    <p className="text-gray-500 mt-2">åˆ†æåœ°é»ï¼š{formData.selectedDestinations.length > 0 ? formData.selectedDestinations.join('ã€') : 'ç²¾é¸åœ°é»'}</p>
                                </div>
                            )}

                            {/* ç‹€æ…‹ï¼šAI çµæœ */}
                            {step === 'result_ai' && (
                                <div className="animate-fade-in">
                                    <div className="flex justify-between items-center mb-6 border-b border-gray-100 pb-4">
                                        <h2 className="text-2xl font-bold text-jbar-dark">æ‚¨çš„è¡Œç¨‹ææ¡ˆ</h2>
                                        <button onClick={() => setStep('input')} className="text-sm font-bold text-jbar-gray hover:text-jbar-dark underline">ä¿®æ”¹æ¢ä»¶</button>
                                    </div>
                                    <div className="bg-jbar-light p-6 rounded-xl text-jbar-dark leading-relaxed whitespace-pre-line border border-gray-200 shadow-inner mb-8">
                                        {aiResult}
                                    </div>
                                    <button className="w-full bg-jbar-yellow text-jbar-dark py-4 rounded-xl font-bold shadow-lg hover:bg-yellow-400 transition">
                                        è¯ç¹« JourneyBar é¡§å•è½å¯¦è¨ˆç•«
                                    </button>
                                </div>
                            )}

                            {/* ç‹€æ…‹ï¼šçœŸäººé€å‡º */}
                            {step === 'result_human' && (
                                <div className="text-center py-16 animate-fade-in">
                                    <div className="w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-5xl mx-auto mb-6 shadow-sm">âœ“</div>
                                    <h2 className="text-3xl font-bold text-jbar-dark mb-3">éœ€æ±‚å·²é€å‡ºï¼</h2>
                                    <p className="text-gray-500 max-w-md mx-auto leading-relaxed">
                                        æ„Ÿè¬æ‚¨é¸æ“‡ JourneyBarã€‚<br/>
                                        é¡§å•å°‡åœ¨ 24 å°æ™‚å…§é€é <span className="font-bold text-jbar-dark">{formData.contact}</span> èˆ‡æ‚¨è¯ç¹«ã€‚
                                    </p>
                                    <div className="mt-10">
                                        <button onClick={() => setStep('input')} className="text-gray-400 hover:text-jbar-dark font-medium transition">
                                            è¿”å›é¦–é 
                                        </button>
                                    </div>
                                </div>
                            )}

                        </div>
                    </div>
                    
                    <div className="fixed bottom-4 text-center w-full pointer-events-none">
                         <span className="text-xs text-gray-400 bg-white/80 px-2 py-1 rounded">Â© JourneyBar</span>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<TravelPlannerApp />);
    </script>
</body>
</html>